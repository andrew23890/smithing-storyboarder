<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Smithing Storyboarder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header class="app-header">
    <h1>Smithing Storyboarder</h1>
    <p class="app-tagline">From bar stock to forged story, one step at a time.</p>
  </header>

  <main class="app-main">
    <!-- Starting Stock Card -->
    <section class="card">
      <h2>Starting Stock</h2>
      <p class="card-intro">
        Tell the app what you’re starting with. We’ll compute the stock volume
        so later steps can keep your mass honest.
      </p>

      <div class="form-grid">
        <div class="field">
          <label for="stock-material">Material</label>
          <select id="stock-material">
            <option value="mild steel" selected>Mild steel</option>
            <option value="tool steel">Tool steel</option>
            <option value="stainless">Stainless steel</option>
            <option value="other">Other / unknown</option>
          </select>
        </div>

        <div class="field">
          <label for="stock-shape">Cross-section shape</label>
          <select id="stock-shape">
            <option value="square" selected>Square bar</option>
            <option value="round">Round bar</option>
            <option value="flat">Flat bar</option>
            <option value="rectangle">Rectangular bar</option>
          </select>
        </div>

        <div class="field">
          <label id="dim-a-label" for="stock-dim-a">Side (in chosen units)</label>
          <input
            id="stock-dim-a"
            type="number"
            min="0"
            step="0.001"
            placeholder="e.g. 0.625 for 5/8"
          />
        </div>

        <div class="field field-secondary" id="field-dim-b">
          <label id="dim-b-label" for="stock-dim-b">Thickness (in chosen units)</label>
          <input
            id="stock-dim-b"
            type="number"
            min="0"
            step="0.001"
            placeholder="e.g. 0.25"
          />
        </div>

        <div class="field">
          <label for="stock-length">Length</label>
          <input
            id="stock-length"
            type="number"
            min="0"
            step="0.01"
            placeholder="e.g. 30"
          />
        </div>

        <div class="field">
          <label for="stock-units">Units</label>
          <select id="stock-units">
            <option value="in" selected>Inches</option>
            <option value="mm">Millimeters</option>
            <option value="cm">Centimeters</option>
          </select>
        </div>
      </div>

      <button id="stock-calc-btn" type="button" class="primary-btn">
        Calculate Volume
      </button>

      <p id="stock-error" class="error-message" aria-live="polite"></p>
      <div id="stock-summary" class="stock-summary" aria-live="polite"></div>
    </section>

    <!-- Target Shape Card -->
    <section class="card">
      <h2>Target Shape (Simple Model)</h2>
      <p class="card-intro">
        Eventually this will be driven by a CAD file. For now, you can define a
        target volume manually so we can test volume matching and step logic.
      </p>

      <div class="form-grid">
        <div class="field">
          <label for="target-label">Target name / label</label>
          <input
            id="target-label"
            type="text"
            placeholder="e.g. Leaf keychain, Scroll hook"
          />
        </div>

        <div class="field">
          <label for="target-volume">Target volume</label>
          <input
            id="target-volume"
            type="number"
            min="0"
            step="0.001"
            placeholder="e.g. 10.5"
          />
        </div>

        <div class="field">
          <label for="target-units">Units</label>
          <select id="target-units">
            <option value="in" selected>Inches³ match stock (in)</option>
            <option value="mm">Millimeters³ match stock (mm)</option>
            <option value="cm">Centimeters³ match stock (cm)</option>
          </select>
        </div>

        <div class="field">
          <label for="target-notes">Notes (optional)</label>
          <textarea
            id="target-notes"
            placeholder="Any notes about where this volume estimate came from."
          ></textarea>
        </div>
      </div>

      <button id="target-set-btn" type="button" class="primary-btn">
        Set Target Shape
      </button>

      <p id="target-error" class="error-message" aria-live="polite"></p>
      <div id="target-summary" class="stock-summary" aria-live="polite"></div>
      <div id="target-compare" class="stock-summary" aria-live="polite"></div>
    </section>

    <!-- Forging Steps Card -->
    <section class="card">
      <h2>Forging Steps (Model Preview)</h2>
      <p class="card-intro">
        Each major forging step will live here. Right now we’re testing the data
        model and volume budget. Later, you’ll edit real steps instead of demo ones.
      </p>

      <button id="steps-add-demo-btn" type="button" class="primary-btn">
        Add demo taper step
      </button>

      <div id="steps-list" class="steps-list"></div>
      <div
        id="steps-volume-summary"
        class="stock-summary"
        aria-live="polite"
      ></div>
    </section>

    <!-- ForgeAI Hello Card -->
    <section class="card">
      <h2>ForgeAI Hello Check</h2>
      <p>
        This little button is just here to prove your JavaScript modules are alive.
      </p>
      <button id="hello-button" type="button">
        Say hello from ForgeAI
      </button>

      <div id="hello-output" class="hello-output" aria-live="polite"></div>
    </section>

    <!-- Status Card -->
    <section class="card">
      <h2>Status</h2>
      <ul class="status-list">
        <li>✅ Project files linked correctly</li>
        <li>✅ JavaScript modules enabled</li>
        <li>✅ Starting stock input &amp; volume (Phase 1)</li>
        <li>✅ Target shape model &amp; manual volume (Phase 1.2)</li>
        <li>✅ Steps & operations model (Phase 1.3)</li>
        <li>⬜ CAD-based target import (Phase 3)</li>
        <li>⬜ Geometric step transforms & storyboard drawings</li>
      </ul>
    </section>
  </main>

  <footer class="app-footer">
    <small>Smithing Storyboarder &middot; ForgeAI helper loaded</small>
  </footer>

  <!-- Main JS entry point (ES module) -->
  <script type="module" src="./main.js"></script>
</body>
</html>
